<!doctype html>
<html>

<head>

  <meta charset="utf-8">
  <title>TUR-ROX</title>
  <link href="../css_and_fonts/style.css" rel="stylesheet" type="text/css">

  <style type="text/css">
    body {
      padding: 0;
    }
    .breadcrumb {
      padding-left: 3em;
    }
    #zeta_canvas {
      height: 100%;
      display: block;
      image-rendering: pixelated;
      margin: auto;
      color: transparent;
    }
    .zoom-buttons {
      text-align: center;
      padding-bottom: 0.5em;
    }
    .zoom-buttons > button {
      font-size: 1.5em;
      padding: 0.1em 0.4em 0.1em 0.4em;
    }
  </style>

</head>

<body>

  <div class="breadcrumb">
    <span> / </span>
    <a href="../index.html">Page principale /</a>
    <a href="main.html">énigme TUR-ROX-YZ /</a>
  </div>

  <p>
    Pour démarrer un jeu :
    <ul>
      <li>cliquez dans le cadre noir ci-dessous (votre curseur de souris disparaîtra),</li>
      <li>appuyez sur la touche "K" pour choisir "Keyboard",</li>
      <li>appuyez sur "C" pour choisir "Color",</li>
      <li>appuyez sur Entrée pour passer le texte d'intro,</li>
      <li>appuyez sur "P" (Play) pour démarrer une partie.</li>
    </ul>
    Les touches et les actions disponibles sont décrites dans la partie droite du jeu.
    <br>
    Pour retrouver votre curseur de souris, appuyez sur Echap.
    <br>
  </p>

  <div class="zoom-buttons">
    Utilisez ces boutons de zoom pour adapter le jeu à votre fenêtre :
    <button onclick="zoomIn()">+</button>
    <button onclick="zoomOut()">-</button>
  </div>
  <canvas id="zeta_canvas" width="640" height="350"></canvas>
  <br>

  <script type="text/javascript" src="./zeta_loader.js"></script>
  <script type="text/javascript">

  // https://museumofzzt.com/article/view/490/page/2/zzt-to-the-masses-publishing-to-the-museum-and-itchio/
  // https://zeta.asie.pl/
  ZetaLoad({
    render: {
      canvas: document.getElementById("zeta_canvas")
    },
    storage: {
      type: "auto",
      database: "tur_rox_yz"
    },
    path: "./",
    arg: "TURROXYZ.ZZT",
    files: [
      {
        "type": "zip",
        "url": "zzt.zip",
        "filenameMapper": function(f) {
          let fl = f.toLowerCase();
          return fl.startsWith("zzt.") ? f : null;
        }
      },
      {
        "type": "zip",
        "url": "my_game.zip"
      }
    ]
  });

  let glob_width = 90;

  function setZoom() {
    let zeta_canvas = document.getElementById("zeta_canvas");
    zeta_canvas.style = "width: " + glob_width + "%";
  }
  function zoomIn() {
    if (glob_width <= 100) {
      glob_width += 10;
      setZoom();
    }
  };
  function zoomOut() {
    if (glob_width > 10) {
      glob_width -= 10;
      setZoom();
    }
  };

  setZoom();

  </script>
</body>

</html>